FROM stephank/archlinux:armv6-devel

LABEL maintainer "berto.f@protonmail.com"

USER root

# Update all system
RUN pacman -Syyu --noconfirm

# Base packages installation, necessary to control host devices
RUN pacman -S --noconfirm --needed usbutils pciutils procps-ng

# Installing BlackArch repository
RUN	cd /tmp/; \
    	/usr/bin/curl -O https://raw.githubusercontent.com/BlackArch/blackarch-site/master/strap.sh; \
    	echo ${SHA256SUM}" strap.sh" | sha256sum -c - ; \
    	/usr/bin/chmod +x ./strap.sh && \
    	./strap.sh && \
    	/usr/bin/rm -v /tmp/strap.sh && \
    	/usr/bin/pacman -Scc --noconfirm

# Applications wanted by the user
RUN pacman -S --noconfirm --needed nmap aircrack-ng metasploit rfkill

ENTRYPOINT ["bash"]
